{% extends 'shared/baseIndex.html' %}
{% load static %}

{% block title %}Catalogo{% endblock %}

{% block brand %}
<a href="{% url 'home' %}" class="navbar-brand">
    <img class="img-fluid d-block mx-auto" style="max-height: 5rem;" src="{% static '/images/Logo.png' %}" alt="Logo">
</a>
{% endblock %}

{% block navitems %}
    <li class="nav-item">
        <a href="{% url 'home' %}" class="nav-link">Inicio</a>
    </li>
    <li class="nav-item">
        <a href="{% url 'Catalog' %}" class="nav-link">Catalogo</a>
    </li>
    <li class="nav-item">
        <a href="{% url 'About' %}" class="nav-link">Acerca de</a>
    </li>
    <li class="nav-item">
        <a href="{% url 'FAQ' %}" class="nav-link">FAQ</a>
    </li>
{% endblock %}

{% block content %}
    <div class="container">
        <h1>Catalogo</h1>
        {% if categorias %}
        {% for categoria in categorias %}
        <div class="row">
            <h2 style="border-bottom: solid;">{{ categoria.nombre }}</h2>
            {% if productos %}
            <div class="col">
                <div class="d-flex overflow-auto flex-nowrap">
                    {% for producto in productos %}
                        {% if producto.categoria.id == categoria.id %}
                            <div class="card mx-2 shadow" style="min-width: 150px; max-width: 200px;">
                                <div class="card-body text-center">
                                    <a href="#">
                                        <img src="{{ producto.imagen.url }}" alt="Imagen {{ producto.nombre }}" class="img-fluid" style="height: 10rem;">
                                    </a>
                                </div>
                                <div class="card-footer text-center">
                                    <p class="card-title mb-0" style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">{{ producto.nombre }}</p>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            {% else %}
            <h2 class="text-danger">No Hay Productos Disponibles</h2>
            {% endif %}
        </div>
        {% endfor %}
        {% else %} 
        <h2 class="text-danger">No Hay Categorias Disponibles</h2>
        {% endif %}
    </div>
{% endblock %}